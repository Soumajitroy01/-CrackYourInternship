class Solution {
public:
    int largestRectangleArea(vector<int>& h) {
        h.push_back(0);
        int n = h.size();
        int i=0,maxans=0;
        stack<int> s;
        while(i<n)
        {
            if(s.empty() || h[i]>h[s.top()]) s.push(i++);
            else
            {
                int top = s.top();
                s.pop();
                maxans = max(maxans, h[top] * (s.empty()? i:i-s.top()-1));
            }
        }
        return maxans;
    }
};
