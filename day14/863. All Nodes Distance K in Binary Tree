class Solution {
public:
    vector<int> res;
    
    void trav(TreeNode* root, int k){
        
        if(!root) return;
        
        if(k == 0){
            res.push_back(root->val);
            return;
        }
        trav(root->left, k-1);
        trav(root->right, k-1);
    }
    
    int helper(TreeNode* root, TreeNode* tar, int k){
        
        if(!root) return -1;
        
        if(root->val == tar->val){
            trav(root, k);
            return 0;
        }
        
        int dl = helper(root->left, tar, k);
        if(dl != -1){
            if((dl+1) == k){
                res.push_back(root->val);
            }
            else{
                trav(root->right, k-dl-2);
            }
            return (1+dl);
        }
        
        int dr = helper(root->right, tar, k);
        if(dr != -1){
            if((dr+1) == k){
                res.push_back(root->val);
            }
            else{
                trav(root->left, k-dr-2);
            }
            return (1+dr);
        }
        
        return -1;
        
    }
    vector<int> distanceK(TreeNode* root, TreeNode* target, int k) {
        
        res.clear();
        helper(root, target, k);
        return res;
    }
};
