class Solution {
public:
    int calculate(string s) {
        int lastnum=0; char lastop='+';int num=0;int res=0;
         for(int i=0;i<s.length();i++)
         {
              char ch=s[i];
              if(ch==' ') continue;
              if(isdigit(ch))
              {
                  num=ch-'0';
                  while(i+1<s.length()&&isdigit(s[i+1]))
                  { num=num*10+(s[i+1]-'0');
                    i++;
                  }
                  switch(lastop)
                  {
                      case '+':
                          res+=lastnum;
                          lastnum=num;
                          break;
                      case '-':
                          res+=lastnum;
                          lastnum=-num;
                          break;
                      case '*':
                          lastnum*=num;
                          break;
                      case '/':
                          lastnum/=num;
                          break;
                  }
              }
              else
                  lastop=ch;
         }
         return res+lastnum;
    }
};
