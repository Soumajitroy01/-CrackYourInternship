class Solution {
    int n,m;
    vector<int> dx={0,0,1,-1};
    vector<int> dy={1,-1,0,0};
    
    bool limit(int x,int y)
    {
        return (x>=0 and y>=0 and x<n and y<m);
    }
    void dfs(vector<vector<char>>& b,int i,int j)
    {
        if(!limit(i,j) || b[i][j]!='O') return;
        
        b[i][j]='-';
        for(int k=0;k<4;k++)
        {
            int newX = i+dx[k], newY = j+dy[k];
            dfs(b,newX,newY);
        }
    }
public:
    void solve(vector<vector<char>>& b) {
        static const auto fast=[](){ios_base::sync_with_stdio(false);cin.tie(nullptr);cout.tie(nullptr);return nullptr;}();
        n = b.size();
        m = b[0].size();
        
        //mark all the O's as '-' associated with the boundary
        for(int i=0;i<n;i++)
        {
            for(int j=0;j<m;j++)
            {
                if(i==0 or i==n-1 or j==0 or j==m-1 and b[i][j]=='O')
                    dfs(b,i,j);
            }
        }
        
        //mark all the O as X
        for(int i=0;i<n;i++)
        {
            for(int j=0;j<m;j++)
            {
                if(b[i][j]=='O')
                    b[i][j]='X';
            }
        }
        
        //mark all the '-' as O
        for(int i=0;i<n;i++)
        {
            for(int j=0;j<m;j++)
            {
                if(b[i][j]=='-')
                    b[i][j]='O';
            }
        }
    }
};
